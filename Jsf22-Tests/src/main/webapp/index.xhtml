<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:fm="http://java.sun.com/jsf/composite/components">
<h:head>
	<title>JSF 2.2</title>
</h:head>
<h:body>
	<h4>JSF 2.2 Features:</h4>
	<ul>
		<li>Composite Component (insertFacet, insertChildren, renderFacet)</li>
		<li>HTML5 Friendly Markup</li>
	</ul>
	<br/>
	<fm:prettyForm id="frmRegister" canSubmit="#{personController.person.id le 0}">
		<f:facet name="header">
			<label><h:outputText value="#{msgs['title_register']}" /></label>
		</f:facet>

		<fm:fullInput id="name" label="#{msgs['label_name']}"
			value="#{personController.person.name}" required="true"
			requiredMessage="#{msgs['label_name_required_message']}" passthrough="#{msgs['label_name_passthrough']}" />

		<fm:fullInput id="email" label="#{msgs['label_email']}"
			value="#{personController.person.email}" required="true"
			requiredMessage="#{msgs['label_email_required_message']}" passthrough="#{msgs['label_email_passthrough']}"/>

		<f:facet name="footer">
			<button jsf:action="#{personController.save}" >Save</button>
			<h:messages />
		</f:facet>
		
		<f:facet name="noPermission">
			<h:outputLabel value="Was saved" /><br/>
			<h:link outcome="index" value="New" />
		</f:facet>
		
	<ui:debug hotkey="F4" />
	
	</fm:prettyForm>
	
	<h:form enctype="multipart/form-data">
		Save your file!
		<h:inputFile value="#{uploaderController.file}" />
		
		<h:commandButton value="Save" action="#{uploaderController.save}" />
	</h:form>
</h:body>
</html>
